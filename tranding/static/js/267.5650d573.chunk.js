"use strict";(self.webpackChunkTranding=self.webpackChunkTranding||[]).push([[267],{5683:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(9722),a=n(4165),s=n(5861),i=n(9439),l=n(2791),c=n(3360),o=n(1413),d=n(5316),u=n(3855),p=(n(5572),n(3239)),m=(n(4411),n(2426)),x=n.n(m),h=(n(7288),n(1049)),f=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.post("/weekly/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={Create:f,Delete:function(e){return h.Z.delete("/weekly/".concat(e))},GetList:function(e,t){return h.Z.get("/weekly/all?page=".concat(e,"&size=").concat(t))},GetListByID:function(e){return h.Z.get("/weekly/".concat(e))},Update:function(e){return h.Z.post("/weekly/update",e)}},g=n(184);function Z(e){var t=e.formik,n=(0,l.useState)([]),r=(0,i.Z)(n,2),a=r[0],s=r[1];(0,l.useEffect)((function(){e.update&&0===a.length&&e.formik.values.file&&s([e.formik.values.file])}),[t]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(d.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"large","aria-labelledby":"contained-modal-title-vcenter",onHide:function(){e.onHide(),t.resetForm(),s([])},centered:!0,backdrop:"static",children:[(0,g.jsx)(d.Z.Header,{closeButton:!0}),(0,g.jsx)(d.Z.Body,{className:"text-center",children:(0,g.jsx)("div",{className:"col-122",children:(0,g.jsx)("div",{className:"card custom-card",children:(0,g.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,g.jsx)("h4",{children:e.update?"Update Weekly":"Add Weekly"}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(u.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,g.jsxs)(u.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Title: ",(0,g.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,g.jsx)(u.Z.Control,{type:"text",name:"title",placeholder:"Title",value:t.values.title,onChange:t.handleChange}),t.errors.title&&t.touched.title?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.title]}):null]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(u.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,g.jsxs)(u.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Description: ",(0,g.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,g.jsx)(u.Z.Control,{type:"text",name:"description",placeholder:"Description",value:t.values.description,onChange:t.handleChange}),t.errors.description&&t.touched.description?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.description]}):null]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(u.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,g.jsxs)(u.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["level: ",(0,g.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,g.jsx)(u.Z.Control,{type:"text",name:"level",placeholder:"Level",value:t.values.level,onChange:t.handleChange}),t.errors.name&&t.touched.name?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.name]}):null]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(u.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,g.jsxs)(u.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Pattern: ",(0,g.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,g.jsx)(u.Z.Control,{type:"text",name:"pattern",placeholder:"Pattern",value:t.values.pattern,onChange:t.handleChange}),t.errors.name&&t.touched.name?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.name]}):null]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(u.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,g.jsxs)(u.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Date: ",(0,g.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,g.jsx)(u.Z.Control,{type:"date",name:"date",placeholder:"Pattern",value:x()(t.values.date).format("YYYY-MM-DD"),onChange:e.handleChangeDate}),t.errors.name&&t.touched.name?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.name]}):null]})}),(0,g.jsxs)(u.Z.Group,{className:"position-relative col-12",children:[(0,g.jsx)(u.Z.Control,{type:"file",name:"file",onChange:function(e){return function(e){var n=e.currentTarget.files[0];t.setFieldValue("file",n),s([n]);var r=URL.createObjectURL(n);s((function(e){return[r]}))}(e)},style:{marginTop:"15px"}}),e.update?(0,g.jsx)(g.Fragment,{children:e.photo?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("img",{src:e.photo,className:"img-responsive2 mt-3 pos-relative",alt:"Image"})}):(0,g.jsx)(g.Fragment,{children:a&&a.map((function(e,t){return(0,g.jsx)("div",{className:"image",children:(0,g.jsx)("img",{src:e,className:"img-responsive2 mt-3",alt:"upload"})},e)}))})}):"",t.errors.file&&t.touched.file?(0,g.jsxs)("p",{className:"text-start error",children:[" ",t.errors.file]}):null]}),(0,g.jsx)("div",{children:(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)(c.Z,{type:"submit",style:{display:"flex",marginLeft:"auto",marginRight:"15px",marginTop:"15px"},children:e.loading?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,g.jsx)(p.Z,{size:30,style:{textAlign:"center",color:"#fff"}})})}):"Submit"})]})})]})})})})]}))})}function j(e){var t=e.card,n=function(){var n=(0,s.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.Delete(t);case 2:e.getAllPage(),e.onHide();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(d.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"large","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[(0,g.jsx)(d.Z.Header,{closeButton:!0}),(0,g.jsxs)(d.Z.Body,{className:"text-center",children:[(0,g.jsx)("i",{className:"icon ion-ios-checkmark-circle-outline tx-100 tx-danger  mg-t-20 "}),(0,g.jsx)("h4",{className:"tx-danger tx-semibold mg-b-20",children:"Delete!"}),(0,g.jsxs)("p",{className:"mg-b-20 mg-x-20 text-lowercase",children:["are you sure want to delete ",e.cardName," !"]}),(0,g.jsx)(c.Z,{type:"button",onClick:function(){return n(t)},variant:"danger",children:"Delete"})]})]}))})}var b=n(5705),y=(n(8007),n(7574)),N=n(3513),k=(n(5106),n(5181)),w=n(7689),F=n(2144);var C=function(e){var t=e.name,n=e.columns,r=e.data,a=((0,w.UO)(),{columns:n,data:r});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"page-header2"}),(0,g.jsx)(F.Z,{className:"custom-card overflow-hidden",children:(0,g.jsxs)(F.Z.Body,{className:"pt-3 pl-3 pr-3",children:[(0,g.jsx)("div",{children:(0,g.jsx)("h6",{className:"main-content-label p-2  mb-1",children:t})}),(0,g.jsx)("div",{children:(0,g.jsx)(k.Z,(0,o.Z)((0,o.Z)({},a),{},{children:(0,g.jsx)(N.ZP,{columns:n,data:r,noHeader:!0,responsive:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})}))})]})})]})},D=(0,y.Z)((function(){var e=(0,l.useState)([]),t=(0,i.Z)(e,2),n=t[0],o=t[1],d=(0,l.useState)(0),u=(0,i.Z)(d,2),p=u[0],m=(u[1],(0,l.useState)([])),x=(0,i.Z)(m,2),h=x[0],f=(x[1],(0,l.useState)([])),y=(0,i.Z)(f,2),N=y[0],k=(y[1],(0,l.useState)(!1)),w=(0,i.Z)(k,2),F=w[0],D=w[1],S=function(){return D(!1)},L=(0,l.useState)(!1),T=(0,i.Z)(L,2),A=T[0],G=T[1],V=(0,l.useState)(""),B=(0,i.Z)(V,2),H=B[0],U=B[1],z=(0,l.useState)(!1),P=(0,i.Z)(z,2),I=P[0],O=P[1],Y=(0,l.useState)(""),E=(0,i.Z)(Y,2),R=(E[0],E[1],(0,l.useState)("")),W=(0,i.Z)(R,2),M=W[0],q=W[1],J=(0,l.useState)(""),K=(0,i.Z)(J,2),Q=K[0],X=K[1],$=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.GetList(p+1,10);case 2:t=e.sent,o(t.data.apiresponse.data.weekly);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){$()}),[]);var _=[{value:" ",label:"All"}].concat((0,r.Z)(h.map((function(e,t){return{value:N[t],label:e}})))),ee=(0,r.Z)(h.map((function(e,t){return{value:N[t],label:e}}))),te=_.find((function(e){return e.value===Object(N)})),ne=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var r,s,i,l,c,o,d,u,p,m,x,h,f,g,Z;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=24;break}return e.prev=1,r=t.file,s=t.title,i=t.level,l=t.pattern,c=t.date,o=t.description,(d=new FormData).append("photo",r),d.append("title",s),d.append("description",o),d.append("level",i),d.append("pattern",l),d.append("date",c),O(!0),e.next=13,v.Create(d);case 13:O(!1),$(),S(),n.resetForm(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log("add Communities error",e.t0);case 22:e.next=47;break;case 24:return e.prev=24,u=t.id,p=t.file,m=t.title,x=t.level,h=t.pattern,f=t.date,g=t.description,(Z=new FormData).append("id",u),Z.append("title",m),Z.append("description",g),Z.append("level",x),Z.append("pattern",h),Z.append("date",f),p&&Z.append("photo",p),O(!0),e.next=38,v.Update(Z);case 38:O(!1),S(),$(),n.resetForm(),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(24),console.log("update page error",e.t1);case 47:case"end":return e.stop()}}),e,null,[[1,19],[24,44]])})));return function(t,n){return e.apply(this,arguments)}}(),re=(0,b.TA)({initialValues:{title:"",description:"",level:"",pattern:"",date:"",file:null},onSubmit:ne}),ae=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),""===t){e.next=16;break}return U(!0),e.next=5,v.GetListByID(t);case 5:n=e.sent,r=n.data.apiresponse.data,re.setFieldValue("id",r.id),re.setFieldValue("title",r.title),re.setFieldValue("description",r.description),re.setFieldValue("file",r.photo),re.setFieldValue("level",r.level),re.setFieldValue("pattern",r.pattern),q(r.image),e.next=21;break;case 16:U(!1),re.setFieldValue("title",""),re.setFieldValue("description",""),re.setFieldValue("link",""),re.setFieldValue("file","");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=[{name:(0,g.jsx)("b",{children:"Title"}),selector:function(e){return e.title},sortable:!0},{email:(0,g.jsx)("b",{children:"Description"}),selector:function(e){return e.description},sortable:!0},{name:(0,g.jsx)("b",{children:"Link"}),selector:function(e){return e.link},sortable:!0},{name:(0,g.jsx)("b",{children:"Photo"}),selector:function(e){return(0,g.jsx)("img",{src:e.photo,alt:"",style:{objectFit:"cover",margin:5},width:"100",height:"80"})},sortable:!0},{name:(0,g.jsx)("b",{children:"Action"}),selector:function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{children:[(0,g.jsx)(c.Z,{className:"btn-primary",onClick:function(){return ae(e.id)},children:(0,g.jsx)("i",{className:"fas fa-edit"})}),(0,g.jsx)(c.Z,{className:"ms-2 btn-danger",onClick:function(){return t=e.id,G(!A),void X(t);var t},children:(0,g.jsx)("i",{className:"fas fa-trash"})})]})})},sortable:!0}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"page-header2"}),(0,g.jsxs)("div",{className:"d-flex",children:[(0,g.jsx)("div",{className:"mb-4 main-content-label tx-24",children:"All Weekly"}),(0,g.jsx)("div",{className:"ms-auto me-4 d-flex",children:(0,g.jsxs)("button",{className:"text-white btn btn-primary ms-auto mb-4",onClick:function(){return ae("")},type:"button",children:[(0,g.jsx)("i",{className:"fas fa-plus"}),"\xa0 Add"]})}),(0,g.jsx)(Z,{show:F,onHide:S,update:H,formik:re,options:ee,image:M,selectedOption2:te,loading:I,handleChangeDate:function(e){var t=new Date(e.target.value).getTime();re.setFieldValue("date",t)}})]}),(0,g.jsx)("div",{className:"row",children:(0,g.jsx)(C,{name:"weekly",columns:se,data:n})}),(0,g.jsx)(j,{show:A,onHide:function(){return G(!1)},card:Q,getAllPage:$})]})}))},7574:function(e,t,n){var r=n(9439),a=n(2791),s=n(3949),i=n(184);t.Z=function(e){return function(){var t=(0,a.useState)(!0),n=(0,r.Z)(t,2),l=n[0],c=n[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){c(!1)}),500);return function(){clearTimeout(e)}}),[]),l?(0,i.jsx)(s.Z,{}):(0,i.jsx)(e,{})}}},5572:function(e,t,n){var r=n(1049),a={create:function(e){return r.Z.post("/blog/",e)},Delete:function(e){return r.Z.delete("/blog/".concat(e))},getAll:function(e,t){return r.Z.get("blog/all?page=".concat(e,"&size=").concat(t))},Update:function(e){return r.Z.post("/blog/update",e)},getByID:function(e){return r.Z.get("/blog/".concat(e))}};t.Z=a},4411:function(e,t,n){var r=n(4165),a=n(5861),s=n(1049),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("/intraday/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={Create:i,Delete:function(e){return s.Z.delete("/intraday/".concat(e))},GetList:function(e,t){return s.Z.get("/intraday/all?page=".concat(e,"&size=").concat(t))},GetListByID:function(e){return s.Z.get("/intraday/".concat(e))},Update:function(e){return s.Z.post("/intraday/update",e)}};t.Z=l},7288:function(e,t,n){var r=n(4165),a=n(5861),s=n(1049),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("/monthly/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={Create:i,Delete:function(e){return s.Z.delete("/monthly/".concat(e))},GetList:function(e,t){return s.Z.get("/monthly/all?page=".concat(e,"&size=").concat(t))},GetListByID:function(e){return s.Z.get("/monthly/".concat(e))},Update:function(e){return s.Z.post("/monthly/update",e)}};t.Z=l}}]);
//# sourceMappingURL=267.5650d573.chunk.js.map