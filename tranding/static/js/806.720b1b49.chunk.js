"use strict";(self.webpackChunkTranding=self.webpackChunkTranding||[]).push([[806],{9625:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(4165),r=n(5861),i=n(9439),s=n(2791),l=n(3360),c=n(1413),o=n(5316),d=n(3855),u=n(3239),p=n(4411),m=n(2426),x=n.n(m),h=n(184);function f(e){var t=e.formik,n=(0,s.useState)([]),a=(0,i.Z)(n,2),r=a[0],p=a[1];(0,s.useEffect)((function(){e.update&&0===r.length&&e.formik.values.file&&p([e.formik.values.file])}),[t]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.Z,(0,c.Z)((0,c.Z)({},e),{},{size:"large","aria-labelledby":"contained-modal-title-vcenter",onHide:function(){e.onHide(),t.resetForm(),p([])},centered:!0,backdrop:"static",children:[(0,h.jsx)(o.Z.Header,{closeButton:!0}),(0,h.jsx)(o.Z.Body,{className:"text-center",children:(0,h.jsx)("div",{className:"col-122",children:(0,h.jsx)("div",{className:"card custom-card",children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("h4",{children:e.update?"Update Intraday":"Add Intraday"}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsxs)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Title: ",(0,h.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,h.jsx)(d.Z.Control,{type:"text",name:"heading",placeholder:"Heading",value:t.values.heading,onChange:t.handleChange}),t.errors.heading&&t.touched.heading?(0,h.jsxs)("p",{className:"text-start error",children:[" ",t.errors.heading]}):null]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsx)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:"Description:"}),(0,h.jsx)(d.Z.Control,{type:"text",name:"description",placeholder:"Description",value:t.values.description,onChange:t.handleChange})]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsx)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:"Link:"}),(0,h.jsx)(d.Z.Control,{type:"text",name:"link",placeholder:"Link",value:t.values.link,onChange:t.handleChange})]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsxs)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["level: ",(0,h.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,h.jsx)(d.Z.Control,{type:"text",name:"level",placeholder:"Level",value:t.values.level,onChange:t.handleChange})]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsxs)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Pattern: ",(0,h.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,h.jsx)(d.Z.Control,{type:"text",name:"pattern",placeholder:"Pattern",value:t.values.pattern,onChange:t.handleChange}),t.errors.name&&t.touched.name?(0,h.jsxs)("p",{className:"text-start error",children:[" ",t.errors.name]}):null]})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)(d.Z.Group,{controlid:"validationFormik101",className:"position-relative",children:[(0,h.jsxs)(d.Z.Label,{style:{textAlign:"start",color:"#000",marginTop:"15px"},children:["Date: ",(0,h.jsx)("span",{className:"tx-danger",children:"*"})]}),(0,h.jsx)(d.Z.Control,{type:"date",name:"date",placeholder:"Pattern",value:x()(t.values.date).format("YYYY-MM-DD"),onChange:e.handleChangeDate})]})}),(0,h.jsxs)(d.Z.Group,{className:"position-relative col-12",children:[(0,h.jsx)(d.Z.Control,{type:"file",name:"file",onChange:function(e){return function(e){var n=e.currentTarget.files[0];t.setFieldValue("file",n),p([n]);var a=URL.createObjectURL(n);p((function(e){return[a]}))}(e)},style:{marginTop:"15px"}}),e.update?(0,h.jsx)(h.Fragment,{children:e.photo?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("img",{src:e.photo,className:"img-responsive2 mt-3 pos-relative",alt:"Image"})}):(0,h.jsx)(h.Fragment,{children:r&&r.map((function(e,t){return(0,h.jsx)("div",{className:"image",children:(0,h.jsx)("img",{src:e,className:"img-responsive2 mt-3",alt:"upload"})},e)}))})}):"",t.errors.file&&t.touched.file?(0,h.jsxs)("p",{className:"text-start error",children:[" ",t.errors.file]}):null]}),(0,h.jsx)("div",{children:(0,h.jsxs)(h.Fragment,{children:[" ",(0,h.jsx)(l.Z,{type:"submit",style:{display:"flex",marginLeft:"auto",marginRight:"15px",marginTop:"15px"},children:e.loading?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,h.jsx)(u.Z,{size:30,style:{textAlign:"center",color:"#fff"}})})}):"Submit"})]})})]})})})})]}))})}function v(e){var t=e.card,n=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.Z.Delete(t);case 2:e.getAllPage(),e.onHide();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.Z,(0,c.Z)((0,c.Z)({},e),{},{size:"large","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[(0,h.jsx)(o.Z.Header,{closeButton:!0}),(0,h.jsxs)(o.Z.Body,{className:"text-center",children:[(0,h.jsx)("i",{className:"icon ion-ios-checkmark-circle-outline tx-100 tx-danger  mg-t-20 "}),(0,h.jsx)("h4",{className:"tx-danger tx-semibold mg-b-20",children:"Delete!"}),(0,h.jsxs)("p",{className:"mg-b-20 mg-x-20 text-lowercase",children:["are you sure want to delete ",e.cardName," !"]}),(0,h.jsx)(l.Z,{type:"button",onClick:function(){return n(t)},variant:"danger",children:"Delete"})]})]}))})}var g=n(5705),j=(n(8007),n(7574)),Z=n(3513),y=(n(5106),n(5181)),b=n(7689),k=n(2144);var N=function(e){var t=e.name,n=e.columns,a=e.data,r=((0,b.UO)(),{columns:n,data:a});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"page-header2"}),(0,h.jsx)(k.Z,{className:"custom-card overflow-hidden",children:(0,h.jsxs)(k.Z.Body,{className:"pt-3 pl-3 pr-3",children:[(0,h.jsx)("div",{children:(0,h.jsx)("h6",{className:"main-content-label p-2  mb-1",children:t})}),(0,h.jsx)("div",{children:(0,h.jsx)(y.Z,(0,c.Z)((0,c.Z)({},r),{},{children:(0,h.jsx)(Z.ZP,{columns:n,data:a,noHeader:!0,responsive:!0,defaultSortField:"id",defaultSortAsc:!1,striped:!0,center:!0,persistTableHead:!0,pagination:!0,highlightOnHover:!0})}))})]})})]})},F=n(1049),C=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.Z.post("/multiyear/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={Create:C,Delete:function(e){return F.Z.delete("/multiyear/".concat(e))},GetList:function(e,t){return F.Z.get("/multiyear/all?page=".concat(e,"&size=").concat(t))},GetListByID:function(e){return F.Z.get("/multiyear/".concat(e))},Update:function(e){return F.Z.post("/multiyear/update",e)}},D=(0,j.Z)((function(){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,s.useState)(0),d=(0,i.Z)(o,2),u=d[0],p=(d[1],(0,s.useState)(!1)),m=(0,i.Z)(p,2),x=m[0],j=m[1],Z=function(){return j(!1)},y=(0,s.useState)(!1),b=(0,i.Z)(y,2),k=b[0],F=b[1],C=(0,s.useState)(""),D=(0,i.Z)(C,2),L=D[0],T=D[1],S=(0,s.useState)(!1),A=(0,i.Z)(S,2),V=A[0],G=A[1],H=(0,s.useState)(""),B=(0,i.Z)(H,2),P=B[0],U=B[1],I=(0,s.useState)(""),z=(0,i.Z)(I,2),Y=z[0],E=z[1],O=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.GetList(u+1,10);case 2:t=e.sent,c(t.data.apiresponse.data.multiyear);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){O()}),[]);var R=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var r,i,s,l,c,o,d,u,p,m,x,h,f,v,g,j,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=25;break}return e.prev=1,r=t.file,i=t.heading,s=t.level,l=t.pattern,c=t.date,o=t.description,d=t.link,(u=new FormData).append("photo",r),u.append("title",i),u.append("description",o),u.append("level",s),u.append("pattern",l),u.append("link",d),u.append("date",c),G(!0),e.next=14,w.Create(u);case 14:G(!1),O(),Z(),n.resetForm(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("add Communities error",e.t0);case 23:e.next=49;break;case 25:return e.prev=25,p=t.id,m=t.file,x=t.heading,h=t.level,f=t.pattern,v=t.date,g=t.description,j=t.link,(y=new FormData).append("id",p),y.append("title",x),y.append("description",g),y.append("level",h),y.append("link",j),y.append("pattern",f),y.append("date",v),m&&y.append("photo",m),G(!0),e.next=40,w.Update(y);case 40:G(!1),Z(),O(),n.resetForm(),e.next=49;break;case 46:e.prev=46,e.t1=e.catch(25),console.log("update page error",e.t1);case 49:case"end":return e.stop()}}),e,null,[[1,20],[25,46]])})));return function(t,n){return e.apply(this,arguments)}}(),M=(0,g.TA)({initialValues:{heading:"",description:"",level:"",pattern:"",link:"",date:"",file:null},onSubmit:R}),q=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),""===t){e.next=18;break}return T(!0),e.next=5,w.GetListByID(t);case 5:n=e.sent,r=n.data.apiresponse.data,M.setFieldValue("id",r.id),M.setFieldValue("heading",r.title),M.setFieldValue("description",r.description),M.setFieldValue("file",r.photo),M.setFieldValue("level",r.level),M.setFieldValue("pattern",r.pattern),M.setFieldValue("link",r.link),M.setFieldValue("date",r.date),U(r.image),e.next=23;break;case 18:T(!1),M.setFieldValue("heading",""),M.setFieldValue("description",""),M.setFieldValue("link",""),M.setFieldValue("file","");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=[{name:(0,h.jsx)("b",{children:"Heading"}),selector:function(e){return e.title},sortable:!0},{email:(0,h.jsx)("b",{children:"Description"}),selector:function(e){return e.description},sortable:!0},{name:(0,h.jsx)("b",{children:"Link"}),selector:function(e){return e.link},sortable:!0},{name:(0,h.jsx)("b",{children:"Photo"}),selector:function(e){return(0,h.jsx)("img",{src:e.photo,alt:"",style:{objectFit:"cover",margin:5},width:"100",height:"80"})},sortable:!0},{name:(0,h.jsx)("b",{children:"Action"}),selector:function(e){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)(l.Z,{className:"btn-primary",onClick:function(){return q(e.id)},children:(0,h.jsx)("i",{className:"fas fa-edit"})}),(0,h.jsx)(l.Z,{className:"ms-2 btn-danger",onClick:function(){return t=e.id,F(!k),void E(t);var t},children:(0,h.jsx)("i",{className:"fas fa-trash"})})]})})},sortable:!0}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"page-header2"}),(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)("div",{className:"mb-4 main-content-label tx-24",children:"All Yearly"}),(0,h.jsx)("div",{className:"ms-auto me-4 d-flex",children:(0,h.jsxs)("button",{className:"text-white btn btn-primary ms-auto mb-4",onClick:function(){return q("")},type:"button",children:[(0,h.jsx)("i",{className:"fas fa-plus"}),"\xa0 Add"]})}),(0,h.jsx)(f,{show:x,onHide:Z,update:L,formik:M,image:P,loading:V,handleChangeDate:function(e){var t=new Date(e.target.value).getTime();M.setFieldValue("date",t)}})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)(N,{name:"yearly",columns:J,data:n})}),(0,h.jsx)(v,{show:k,onHide:function(){return F(!1)},card:Y,getAllPage:O})]})}))},7574:function(e,t,n){var a=n(9439),r=n(2791),i=n(3949),s=n(184);t.Z=function(e){return function(){var t=(0,r.useState)(!0),n=(0,a.Z)(t,2),l=n[0],c=n[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){c(!1)}),500);return function(){clearTimeout(e)}}),[]),l?(0,s.jsx)(i.Z,{}):(0,s.jsx)(e,{})}}},4411:function(e,t,n){var a=n(4165),r=n(5861),i=n(1049),s=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post("/intraday/",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={Create:s,Delete:function(e){return i.Z.delete("/intraday/".concat(e))},GetList:function(e,t){return i.Z.get("/intraday/all?page=".concat(e,"&size=").concat(t))},GetListByID:function(e){return i.Z.get("/intraday/".concat(e))},Update:function(e){return i.Z.post("/intraday/update",e)}};t.Z=l}}]);
//# sourceMappingURL=806.720b1b49.chunk.js.map